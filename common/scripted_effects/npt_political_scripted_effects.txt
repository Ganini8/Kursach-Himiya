#	Example:
# 
#	example_effect = {
#		add_political_power = 66
#		add_popularity = {
#			ideology = fascism
#			popularity = 0.33
#		}
#	}
#
#
#	In a script file:
#
#	effect = {
#		example_effect = yes
#	}
#

# socialist_parties - 1
# socdem_parties - 2
# liberal_parties - 3
# authoritarian_parties - 4
# reactionary_parties - 5

# radsoc_banned
# commi_banned
# socdem_banned
# marketlib_banned
# cons_banned
# auth_banned
# desp_banned
# fasc_banned
# natsynd_banned

# right_parties_is_illegal

# political_social_democrats_in_liberal_coalition
# political_social_democrats_in_socialist_coalition
# political_social_liberals_in_socialist_coalition
# political_social_liberals_not_in_liberal_coalition
# political_social_conservatives_in_liberal_coalition
# political_national_syndicalism_in_socialist_coalition

	add_ruling_party_popularity = {
		if = {
			limit = { has_government = radical_socialism }
			add_popularity = {
				ideology = radical_socialism
				popularity = var:ruling_party_popularity_change
			}
		}
		else_if = {
			limit = { has_government = communism }
			add_popularity = {
				ideology = communism
				popularity = var:ruling_party_popularity_change
			}
		}
		else_if = {
			limit = { has_government = social_democracy }
			add_popularity = {
				ideology = social_democracy
				popularity = var:ruling_party_popularity_change
			}
		}
		else_if = {
			limit = { has_government = social_liberalism }
			add_popularity = {
				ideology = social_liberalism
				popularity = var:ruling_party_popularity_change
			}
		}
		else_if = {
			limit = { has_government = market_liberalism }
			add_popularity = {
				ideology = market_liberalism
				popularity = var:ruling_party_popularity_change
			}
		}
		else_if = {
			limit = { has_government = social_conservatism }
			add_popularity = {
				ideology = social_conservatism
				popularity  = var:ruling_party_popularity_change
			}
		}
		else_if = {
			limit = { has_government = authoritarism }
			add_popularity = {
				ideology = authoritarism
				popularity = var:ruling_party_popularity_change
			}
		}
		else_if = {
			limit = { has_government = despotism }
			add_popularity = {
				ideology = despotism
				popularity = var:ruling_party_popularity_change
			}
		}
		else_if = {
			limit = { has_government = fascism }
			add_popularity = {
				ideology = fascism
				popularity = var:ruling_party_popularity_change
			}
		}
		else_if = {
			limit = { has_government = national_syndicalism }
			add_popularity = {
				ideology = national_syndicalism
				popularity = var:ruling_party_popularity_change
			}
		}
	}

	add_ruling_party_popularity_5 = {
		if = {
			limit = { has_government = radical_socialism }
			add_popularity = {
				ideology = radical_socialism
				popularity = 0.05
			}
		}
		else_if = {
			limit = { has_government = communism }
			add_popularity = {
				ideology = communism
				popularity = 0.05
			}
		}
		else_if = {
			limit = { has_government = social_democracy }
			add_popularity = {
				ideology = social_democracy
				popularity = 0.05
			}
		}
		else_if = {
			limit = { has_government = social_liberalism }
			add_popularity = {
				ideology = social_liberalism
				popularity = 0.05
			}
		}
		else_if = {
			limit = { has_government = market_liberalism }
			add_popularity = {
				ideology = market_liberalism
				popularity = 0.05
			}
		}
		else_if = {
			limit = { has_government = social_conservatism }
			add_popularity = {
				ideology = social_conservatism
				popularity  = 0.05
			}
		}
		else_if = {
			limit = { has_government = authoritarism }
			add_popularity = {
				ideology = authoritarism
				popularity = 0.05
			}
		}
		else_if = {
			limit = { has_government = despotism }
			add_popularity = {
				ideology = despotism
				popularity = 0.05
			}
		}
		else_if = {
			limit = { has_government = fascism }
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}
		}
		else_if = {
			limit = { has_government = national_syndicalism }
			add_popularity = {
				ideology = national_syndicalism
				popularity = 0.05
			}
		}
	}

	add_ruling_party_popularity_10 = {
		if = {
			limit = { has_government = radical_socialism }
			add_popularity = {
				ideology = radical_socialism
				popularity = 0.1
			}
		}
		else_if = {
			limit = { has_government = communism }
			add_popularity = {
				ideology = communism
				popularity = 0.1
			}
		}
		else_if = {
			limit = { has_government = social_democracy }
			add_popularity = {
				ideology = social_democracy
				popularity = 0.1
			}
		}
		else_if = {
			limit = { has_government = social_liberalism }
			add_popularity = {
				ideology = social_liberalism
				popularity = 0.1
			}
		}
		else_if = {
			limit = { has_government = market_liberalism }
			add_popularity = {
				ideology = market_liberalism
				popularity = 0.1
			}
		}
		else_if = {
			limit = { has_government = social_conservatism }
			add_popularity = {
				ideology = social_conservatism
				popularity  = 0.1
			}
		}
		else_if = {
			limit = { has_government = authoritarism }
			add_popularity = {
				ideology = authoritarism
				popularity = 0.1
			}
		}
		else_if = {
			limit = { has_government = despotism }
			add_popularity = {
				ideology = despotism
				popularity = 0.1
			}
		}
		else_if = {
			limit = { has_government = fascism }
			add_popularity = {
				ideology = fascism
				popularity = 0.1
			}
		}
		else_if = {
			limit = { has_government = national_syndicalism }
			add_popularity = {
				ideology = national_syndicalism
				popularity = 0.1
			}
		}
	}

	add_ruling_party_popularity_20 = {
		if = {
			limit = { has_government = radical_socialism }
			add_popularity = {
				ideology = radical_socialism
				popularity = 0.2
			}
		}
		else_if = {
			limit = { has_government = communism }
			add_popularity = {
				ideology = communism
				popularity = 0.2
			}
		}
		else_if = {
			limit = { has_government = social_democracy }
			add_popularity = {
				ideology = social_democracy
				popularity = 0.2
			}
		}
		else_if = {
			limit = { has_government = social_liberalism }
			add_popularity = {
				ideology = social_liberalism
				popularity = 0.2
			}
		}
		else_if = {
			limit = { has_government = market_liberalism }
			add_popularity = {
				ideology = market_liberalism
				popularity = 0.2
			}
		}
		else_if = {
			limit = { has_government = social_conservatism }
			add_popularity = {
				ideology = social_conservatism
				popularity  = 0.2
			}
		}
		else_if = {
			limit = { has_government = authoritarism }
			add_popularity = {
				ideology = authoritarism
				popularity = 0.2
			}
		}
		else_if = {
			limit = { has_government = despotism }
			add_popularity = {
				ideology = despotism
				popularity = 0.2
			}
		}
		else_if = {
			limit = { has_government = fascism }
			add_popularity = {
				ideology = fascism
				popularity = 0.2
			}
		}
		else_if = {
			limit = { has_government = national_syndicalism }
			add_popularity = {
				ideology = national_syndicalism
				popularity = 0.2
			}
		}
	}

	initiate_verification_of_the_popularity_of_coalitions = {

		set_variable = { var = radical_socialism_party
			value = party_popularity@radical_socialism }
		set_variable = { var = communism_party
			value = party_popularity@communism }
		set_variable = { var = social_democracy_party
			value = party_popularity@social_democracy }
		set_variable = { var = social_liberalism_party
			value = party_popularity@social_liberalism }
		set_variable = { var = market_liberalism_party
			value = party_popularity@market_liberalism }
		set_variable = { var = social_conservatism_party
			value = party_popularity@social_conservatism }
		set_variable = { var = authoritarism_party
			value = party_popularity@authoritarism }
		set_variable = { var = despotism_party
			value = party_popularity@despotism }
		set_variable = { var = fascism_party
			value = party_popularity@fascism }
		set_variable = { var = national_syndicalism_party
			value = party_popularity@national_syndicalism }

		if = {
			limit = { OR = { NOT = { has_variable = radical_socialism_coalition } check_variable = { radical_socialism_coalition > 5 } check_variable = { radical_socialism_coalition < 0 } } }
			set_variable = { radical_socialism_coalition = 0 } }
		if = {
			limit = { OR = { NOT = { has_variable = communism_coalition } check_variable = { communism_coalition > 5 } check_variable = { communism_coalition < 0 } } }
			set_variable = { communism_coalition = 0 } }
		if = {
			limit = { OR = { NOT = { has_variable = social_democracy_coalition } check_variable = { social_democracy_coalition > 5 } check_variable = { social_democracy_coalition < 0 } } }
			set_variable = { social_democracy_coalition = 0 } }
		if = {
			limit = { OR = { NOT = { has_variable = social_liberalism_coalition } check_variable = { social_liberalism_coalition > 5 } check_variable = { social_liberalism_coalition < 0 } } }
			set_variable = { social_liberalism_coalition = 0 } }
		if = {
			limit = { OR = { NOT = { has_variable = market_liberalism_coalition } check_variable = { market_liberalism_coalition > 5 } check_variable = { market_liberalism_coalition < 0 } } }
			set_variable = { market_liberalism_coalition = 0 } }
		if = {
			limit = { OR = { NOT = { has_variable = social_conservatism_coalition } check_variable = { social_conservatism_coalition > 5 } check_variable = { social_conservatism_coalition < 0 } } }
			set_variable = { social_conservatism_coalition = 0 } }
		if = {
			limit = { OR = { NOT = { has_variable = authoritarism_coalition } check_variable = { authoritarism_coalition > 5 } check_variable = { authoritarism_coalition < 0 } } }
			set_variable = { authoritarism_coalition = 0 } }
		if = {
			limit = { OR = { NOT = { has_variable = despotism_coalition } check_variable = { despotism_coalition > 5 } check_variable = { despotism_coalition < 0 } } }
			set_variable = { despotism_coalition = 0 } }
		if = {
			limit = { OR = { NOT = { has_variable = fascism_coalition } check_variable = { fascism_coalition > 5 } check_variable = { fascism_coalition < 0 } } }
			set_variable = { fascism_coalition = 0 } }
		if = {
			limit = { OR = { NOT = { has_variable = national_syndicalism_coalition } check_variable = { national_syndicalism_coalition > 5 } check_variable = { national_syndicalism_coalition < 0 } } }
			set_variable = { national_syndicalism_coalition = 0 } }

		set_variable = {
			var = socialist_parties_without_coalition
			value = party_popularity@communism
		}
		add_to_variable = {
			var = socialist_parties_without_coalition
			value = party_popularity@radical_socialism
		}
		add_to_variable = {
			var = socialist_parties_without_coalition
			value = party_popularity@social_democracy
		}

		set_variable = {
			var = socialist_parties
			value = 0
		}
		if = {
			limit = { check_variable = { radical_socialism_coalition = 1 } }
			add_to_variable = { socialist_parties = party_popularity@radical_socialism }
			else = { if = { limit = { check_variable = { radical_socialism_coalition = 0 } check_variable = { socialist_parties < party_popularity@radical_socialism } } set_variable = { socialist_parties = party_popularity@radical_socialism } } }
		}
		if = {
			limit = { check_variable = { communism_coalition = 1 } }
			add_to_variable = { socialist_parties = party_popularity@communism }
			else = { if = { limit = { check_variable = { communism_coalition = 0 } check_variable = { socialist_parties < party_popularity@communism } } set_variable = { socialist_parties = party_popularity@communism } } }
		}
		if = {
			limit = { check_variable = { social_democracy_coalition = 1 } }
			add_to_variable = { socialist_parties = party_popularity@social_democracy }
			else = {
				if = {
					limit = { has_country_flag = political_social_democrats_in_socialist_coalition }
					if = { limit = { check_variable = { social_democracy_coalition = 0 } check_variable = { socialist_parties < party_popularity@social_democracy } } set_variable = { socialist_parties = party_popularity@social_democracy } }
				}
			}
		}
		if = {
			limit = { check_variable = { social_liberalism_coalition = 1 } }
			add_to_variable = { socialist_parties = party_popularity@social_liberalism }
			else = {
				if = {
					limit = { has_country_flag = political_social_liberals_in_socialist_coalition }
					if = { limit = { check_variable = { social_liberalism_coalition = 0 } check_variable = { socialist_parties < party_popularity@social_liberalism } } set_variable = { socialist_parties = party_popularity@social_liberalism } }
				}
			}
		}
		if = {
			limit = { check_variable = { market_liberalism_coalition = 1 } }
			add_to_variable = { socialist_parties = party_popularity@market_liberalism }
		}
		if = {
			limit = { check_variable = { social_conservatism_coalition = 1 } }
			add_to_variable = { socialist_parties = party_popularity@social_conservatism }
		}
		if = {
			limit = { check_variable = { authoritarism_coalition = 1 } }
			add_to_variable = { socialist_parties = party_popularity@authoritarism }
		}
		if = {
			limit = { check_variable = { despotism_coalition = 1 } }
			add_to_variable = { socialist_parties = party_popularity@despotism }
		}
		if = {
			limit = { check_variable = { fascism_coalition = 1 } }
			add_to_variable = { socialist_parties = party_popularity@fascism }
		}
		if = {
			limit = { check_variable = { national_syndicalism_coalition = 1 } }
			add_to_variable = { socialist_parties = party_popularity@national_syndicalism }
			else = {
				if = {
					limit = { has_country_flag = political_national_syndicalism_in_socialist_coalition }
					if = { limit = { check_variable = { national_syndicalism_coalition = 0 } check_variable = { socialist_parties < party_popularity@national_syndicalism } } set_variable = { socialist_parties = party_popularity@national_syndicalism } }
				}
			}
		}

		set_variable = {
			var = socdem_parties
			value = 0
		}
		if = {
			limit = { check_variable = { radical_socialism_coalition = 2 } }
			add_to_variable = { socdem_parties = party_popularity@radical_socialism }
		}
		if = {
			limit = { check_variable = { communism_coalition = 2 } }
			add_to_variable = { socdem_parties = party_popularity@communism }
		}
		if = {
			limit = { check_variable = { social_democracy_coalition = 2 } }
			add_to_variable = { socdem_parties = party_popularity@social_democracy }
			else = {
				if = {
					limit = { NOT = { has_country_flag = political_social_democrats_in_socialist_coalition has_country_flag = political_social_democrats_in_liberal_coalition } }
					if = { limit = { check_variable = { social_democracy_coalition = 0 } check_variable = { socdem_parties < party_popularity@social_democracy } } set_variable = { socdem_parties = party_popularity@social_democracy } }
				}
			}
		}
		if = {
			limit = { check_variable = { social_liberalism_coalition = 2 } }
			add_to_variable = { socdem_parties = party_popularity@social_liberalism }
			else = {
				if = {
					limit = { NOT = { has_country_flag = political_social_liberals_in_socialist_coalition } has_country_flag = political_social_liberals_not_in_liberal_coalition }
					if = { limit = { check_variable = { social_liberalism_coalition = 0 } check_variable = { socdem_parties < party_popularity@social_democracy } } set_variable = { socdem_parties = party_popularity@social_democracy } }
				}
			}
		}
		if = {
			limit = { check_variable = { market_liberalism_coalition = 2 } }
			add_to_variable = { socdem_parties = party_popularity@market_liberalism }
		}
		if = {
			limit = { check_variable = { social_conservatism_coalition = 2 } }
			add_to_variable = { socdem_parties = party_popularity@social_conservatism }
		}
		if = {
			limit = { check_variable = { authoritarism_coalition = 2 } }
			add_to_variable = { socdem_parties = party_popularity@authoritarism }
		}
		if = {
			limit = { check_variable = { despotism_coalition = 2 } }
			add_to_variable = { socdem_parties = party_popularity@despotism }
		}
		if = {
			limit = { check_variable = { fascism_coalition = 2 } }
			add_to_variable = { socdem_parties = party_popularity@fascism }
		}
		if = {
			limit = { check_variable = { national_syndicalism_coalition = 2 } }
			add_to_variable = { socdem_parties = party_popularity@national_syndicalism }
		}

		set_variable = {
			var = liberal_parties
			value = 0
		}
		if = {
			limit = { check_variable = { radical_socialism_coalition = 3 } }
			add_to_variable = { liberal_parties = party_popularity@radical_socialism }
		}
		if = {
			limit = { check_variable = { communism_coalition = 3 } }
			add_to_variable = { liberal_parties = party_popularity@communism }
		}
		if = {
			limit = { check_variable = { social_democracy_coalition = 3 } }
			add_to_variable = { liberal_parties = party_popularity@social_democracy }
			else = {
				if = {
					limit = { has_country_flag = political_social_democrats_in_liberal_coalition }
					if = { limit = { check_variable = { social_democracy_coalition = 0 } check_variable = { liberal_parties < party_popularity@social_democracy } } set_variable = { liberal_parties = party_popularity@social_democracy } }
				}
			}
		}
		if = {
			limit = { check_variable = { social_liberalism_coalition = 3 } }
			add_to_variable = { liberal_parties = party_popularity@social_liberalism }
			else = {
				if = {
					limit = { NOT = { has_country_flag = political_social_liberals_not_in_liberal_coalition has_country_flag = political_social_liberals_in_socialist_coalition } }
					if = { limit = { check_variable = { social_liberalism_coalition = 0 } check_variable = { liberal_parties < party_popularity@social_liberalism } } set_variable = { liberal_parties = party_popularity@social_liberalism } }
				}
			}
		}
		if = {
			limit = { check_variable = { market_liberalism_coalition = 3 } }
			add_to_variable = { liberal_parties = party_popularity@market_liberalism }
			else = { if = { limit = { check_variable = { market_liberalism_coalition = 0 } check_variable = { liberal_parties < party_popularity@market_liberalism } } set_variable = { liberal_parties = party_popularity@market_liberalism } } }
		}
		if = {
			limit = { check_variable = { social_conservatism_coalition = 3 } }
			add_to_variable = { liberal_parties = party_popularity@social_conservatism }
			else = {
				if = {
					limit = { has_country_flag = political_social_conservatives_in_liberal_coalition }
					if = { limit = { check_variable = { social_conservatism_coalition = 0 } check_variable = { liberal_parties < party_popularity@social_conservatism } } set_variable = { liberal_parties = party_popularity@social_conservatism } }
				}
			}
		}
		if = {
			limit = { check_variable = { authoritarism_coalition = 3 } }
			add_to_variable = { liberal_parties = party_popularity@authoritarism }
		}
		if = {
			limit = { check_variable = { despotism_coalition = 3 } }
			add_to_variable = { liberal_parties = party_popularity@despotism }
		}
		if = {
			limit = { check_variable = { fascism_coalition = 3 } }
			add_to_variable = { liberal_parties = party_popularity@fascism }
		}
		if = {
			limit = { check_variable = { national_syndicalism_coalition = 3 } }
			add_to_variable = { liberal_parties = party_popularity@national_syndicalism }
		}

		set_variable = {
			var = authoritarian_parties
			value = 0
		}
		if = {
			limit = { check_variable = { radical_socialism_coalition = 4 } }
			add_to_variable = { authoritarian_parties = party_popularity@radical_socialism }
		}
		if = {
			limit = { check_variable = { communism_coalition = 4 } }
			add_to_variable = { authoritarian_parties = party_popularity@communism }
		}
		if = {
			limit = { check_variable = { social_democracy_coalition = 4 } }
			add_to_variable = { authoritarian_parties = party_popularity@social_democracy }
		}
		if = {
			limit = { check_variable = { social_liberalism_coalition = 4 } }
			add_to_variable = { authoritarian_parties = party_popularity@social_liberalism }
		}
		if = {
			limit = { check_variable = { market_liberalism_coalition = 4 } }
			add_to_variable = { authoritarian_parties = party_popularity@market_liberalism }
		}
		if = {
			limit = { check_variable = { social_conservatism_coalition = 4 } }
			add_to_variable = { authoritarian_parties = party_popularity@social_conservatism }
			else = {
				if = {
					limit = { NOT = { has_country_flag = political_social_conservatives_in_liberal_coalition } }
					if = { limit = { check_variable = { social_conservatism_coalition = 0 } check_variable = { authoritarian_parties < party_popularity@social_conservatism } } set_variable = { authoritarian_parties = party_popularity@social_conservatism } }
				}
			}
		}
		if = {
			limit = { check_variable = { authoritarism_coalition = 4 } }
			add_to_variable = { authoritarian_parties = party_popularity@authoritarism }
			else = { if = { limit = { check_variable = { authoritarism_coalition = 0 } check_variable = { authoritarian_parties < party_popularity@authoritarism } } set_variable = { socialist_parties = party_popularity@authoritarism } } }
		}
		if = {
			limit = { check_variable = { despotism_coalition = 4 } }
			add_to_variable = { authoritarian_parties = party_popularity@despotism }
			else = { if = { limit = { check_variable = { despotism_coalition = 0 } check_variable = { authoritarian_parties < party_popularity@despotism } } set_variable = { authoritarian_parties = party_popularity@despotism } } }
		}
		if = {
			limit = { check_variable = { fascism_coalition = 4 } }
			add_to_variable = { authoritarian_parties = party_popularity@fascism }
		}
		if = {
			limit = { check_variable = { national_syndicalism_coalition = 4 } }
			add_to_variable = { authoritarian_parties = party_popularity@national_syndicalism }
		}

		set_variable = {
			var = reactionary_parties
			value = 0
		}
		if = {
			limit = { check_variable = { radical_socialism_coalition = 5 } }
			add_to_variable = { reactionary_parties = party_popularity@radical_socialism }
		}
		if = {
			limit = { check_variable = { communism_coalition = 5 } }
			add_to_variable = { reactionary_parties = party_popularity@communism }
		}
		if = {
			limit = { check_variable = { social_democracy_coalition = 5 } }
			add_to_variable = { reactionary_parties = party_popularity@social_democracy }
		}
		if = {
			limit = { check_variable = { social_liberalism_coalition = 5 } }
			add_to_variable = { reactionary_parties = party_popularity@social_liberalism }
		}
		if = {
			limit = { check_variable = { market_liberalism_coalition = 5 } }
			add_to_variable = { reactionary_parties = party_popularity@market_liberalism }
		}
		if = {
			limit = { check_variable = { social_conservatism_coalition = 5 } }
			add_to_variable = { reactionary_parties = party_popularity@social_conservatism }
		}
		if = {
			limit = { check_variable = { authoritarism_coalition = 5 } }
			add_to_variable = { reactionary_parties = party_popularity@authoritarism }
		}
		if = {
			limit = { check_variable = { despotism_coalition = 5 } }
			add_to_variable = { reactionary_parties = party_popularity@despotism }
		}
		if = {
			limit = { check_variable = { fascism_coalition = 5 } }
			add_to_variable = { reactionary_parties = party_popularity@fascism }
			else = { if = { limit = { check_variable = { fascism_coalition = 0 } check_variable = { reactionary_parties < party_popularity@fascism } } set_variable = { reactionary_parties = party_popularity@fascism } } }
		}
		if = {
			limit = { check_variable = { national_syndicalism_coalition = 5 } }
			add_to_variable = { reactionary_parties = party_popularity@national_syndicalism }
			else = { if = { limit = { NOT = { has_country_flag = political_national_syndicalism_in_socialist_coalition } check_variable = { national_syndicalism_coalition = 0 } check_variable = { reactionary_parties < party_popularity@national_syndicalism } } set_variable = { reactionary_parties = party_popularity@national_syndicalism } } }
		}

		set_first_wthout_ruling_legal_party_flag = yes
		set_first_legal_party_flag = yes
		set_second_legal_party_flag = yes

		set_variable = { summe_stab_n_ruling_coalition_pop = stability }
		if = { limit = { ruling_coalition_is_socialist = yes } add_to_variable = { summe_stab_n_ruling_coalition_pop = socialist_parties } }
		if = { limit = { ruling_coalition_is_socdem = yes } add_to_variable = { summe_stab_n_ruling_coalition_pop = socdem_parties } }
		if = { limit = { ruling_coalition_is_liberal = yes } add_to_variable = { summe_stab_n_ruling_coalition_pop = liberal_parties } }
		if = { limit = { ruling_coalition_is_authoritarian = yes } add_to_variable = { summe_stab_n_ruling_coalition_pop = authoritarian_parties } }
		if = { limit = { ruling_coalition_is_reactionary = yes } add_to_variable = { summe_stab_n_ruling_coalition_pop = reactionary_parties } }

	}

	ruling_socialist_coalition = {
		set_temp_variable = { temp0 = 0 }
		
		if = {
			limit = { check_variable = { radical_socialism_coalition = 1 } }
			set_temp_variable = { temp0 = radical_socialism_party }
			set_temp_variable = { temp_radical_socialism_party = radical_socialism_party }
		}
		if = {
			limit = { check_variable = { communism_coalition = 1 } }
			set_temp_variable = { temp0 = communism_party }
			set_temp_variable = { temp_communism_party = communism_party }
		}
		if = {
			limit = { check_variable = { social_democracy_coalition = 1 } }
			set_temp_variable = { temp0 = social_democracy_party }
			set_temp_variable = { temp_social_democracy_party = social_democracy_party }
		}
		if = {
			limit = { check_variable = { social_liberalism_coalition = 1 } }
			set_temp_variable = { temp0 = social_liberalism_party }
			set_temp_variable = { temp_social_liberalism_party = social_liberalism_party }
		}
		if = {
			limit = { check_variable = { market_liberalism_coalition = 1 } }
			set_temp_variable = { temp0 = market_liberalism_party }
			set_temp_variable = { temp_market_liberalism_party = market_liberalism_party }
		}
		if = {
			limit = { check_variable = { social_conservatism_coalition = 1 } }
			set_temp_variable = { temp0 = social_conservatism_party }
			set_temp_variable = { temp_social_conservatism_party = social_conservatism_party }
		}
		if = {
			limit = { check_variable = { authoritarism_coalition = 1 } }
			set_temp_variable = { temp0 = authoritarism_party }
			set_temp_variable = { temp_authoritarism_party = authoritarism_party }
		}
		if = {
			limit = { check_variable = { despotism_coalition = 1 } }
			set_temp_variable = { temp0 = despotism_party }
			set_temp_variable = { temp_despotism_party = despotism_party }
		}
		if = {
			limit = { check_variable = { fascism_coalition = 1 } }
			set_temp_variable = { temp0 = fascism_party }
			set_temp_variable = { temp_fascism_party = fascism_party }
		}
		if = {
			limit = { check_variable = { national_syndicalism_coalition = 1 } }
			set_temp_variable = { temp0 = national_syndicalism_party }
			set_temp_variable = { temp_national_syndicalism_party = national_syndicalism_party }
		}
		
		if = {
			limit = { check_variable = { radical_socialism_coalition = 0 } check_variable = { radical_socialism_party > temp0 } }
			set_temp_variable = { temp0 = radical_socialism_party }
			set_temp_variable = { temp_radical_socialism_party = radical_socialism_party }
		}
		if = {
			limit = { check_variable = { communism_coalition = 0 } check_variable = { communism_party > temp0 } }
			set_temp_variable = { temp0 = communism_party }
			set_temp_variable = { temp_communism_party = communism_party }
		}
		if = {
			limit = { check_variable = { social_democracy_coalition = 0 } has_country_flag = political_social_democrats_in_socialist_coalition check_variable = { social_democracy_party > temp0 } }
			set_temp_variable = { temp0 = social_democracy_party }
			set_temp_variable = { temp_social_democracy_party = social_democracy_party }
		}
		if = {
			limit = { check_variable = { social_liberalism_coalition = 0 } has_country_flag = political_social_liberals_in_socialist_coalition check_variable = { social_liberalism_party > temp0 } }
			set_temp_variable = { temp0 = social_liberalism_party }
		}
		
		if = {
			limit = { check_variable = { temp0 = temp_radical_socialism_party } }
			set_politics = { ruling_party = radical_socialism }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_communism_party } }
			set_politics = { ruling_party = communism }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_social_democracy_party } }
			set_politics = { ruling_party = social_democracy }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_social_liberalism_party } }
			set_politics = { ruling_party = social_liberalism }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_market_liberalism_party } }
			set_politics = { ruling_party = market_liberalism }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_social_conservatism_party } }
			set_politics = { ruling_party = social_conservatism }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_authoritarism_party } }
			set_politics = { ruling_party = authoritarism }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_despotism_party } }
			set_politics = { ruling_party = despotism }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_fascism_party } }
			set_politics = { ruling_party = fascism }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_national_syndicalism_party } }
			set_politics = { ruling_party = national_syndicalism }
		}
	}
	
	ruling_socdem_coalition = {
		set_temp_variable = { temp0 = 0 }
		
		if = {
			limit = { check_variable = { radical_socialism_coalition = 2 } }
			set_temp_variable = { temp0 = radical_socialism_party }
			set_temp_variable = { temp_radical_socialism_party = radical_socialism_party }
		}
		if = {
			limit = { check_variable = { communism_coalition = 2 } }
			set_temp_variable = { temp0 = communism_party }
			set_temp_variable = { temp_communism_party = communism_party }
		}
		if = {
			limit = { check_variable = { social_democracy_coalition = 2 } }
			set_temp_variable = { temp0 = social_democracy_party }
			set_temp_variable = { temp_social_democracy_party = social_democracy_party }
		}
		if = {
			limit = { check_variable = { social_liberalism_coalition = 2 } }
			set_temp_variable = { temp0 = social_liberalism_party }
			set_temp_variable = { temp_social_liberalism_party = social_liberalism_party }
		}
		if = {
			limit = { check_variable = { market_liberalism_coalition = 2 } }
			set_temp_variable = { temp0 = market_liberalism_party }
			set_temp_variable = { temp_market_liberalism_party = market_liberalism_party }
		}
		if = {
			limit = { check_variable = { social_conservatism_coalition = 2 } }
			set_temp_variable = { temp0 = social_conservatism_party }
			set_temp_variable = { temp_social_conservatism_party = social_conservatism_party }
		}
		if = {
			limit = { check_variable = { authoritarism_coalition = 2 } }
			set_temp_variable = { temp0 = authoritarism_party }
			set_temp_variable = { temp_authoritarism_party = authoritarism_party }
		}
		if = {
			limit = { check_variable = { despotism_coalition = 2 } }
			set_temp_variable = { temp0 = despotism_party }
			set_temp_variable = { temp_despotism_party = despotism_party }
		}
		if = {
			limit = { check_variable = { fascism_coalition = 2 } }
			set_temp_variable = { temp0 = fascism_party }
			set_temp_variable = { temp_fascism_party = fascism_party }
		}
		if = {
			limit = { check_variable = { national_syndicalism_coalition = 2 } }
			set_temp_variable = { temp0 = national_syndicalism_party }
			set_temp_variable = { temp_national_syndicalism_party = national_syndicalism_party }
		}
		
		if = {
			limit = { check_variable = { social_democracy_coalition = 0 } NOT = { has_country_flag = political_social_democrats_in_socialist_coalition has_country_flag = political_social_democrats_in_liberal_coalition } check_variable = { social_democracy_party > temp0 } }
			set_temp_variable = { temp0 = social_democracy_party }
			set_temp_variable = { temp_social_democracy_party = social_democracy_party }
		}
		if = {
			limit = { check_variable = { social_liberalism_coalition = 0 } NOT = { has_country_flag = political_social_liberals_in_socialist_coalition } has_country_flag = political_social_liberals_not_in_liberal_coalition check_variable = { social_liberalism_party > temp0 } }
			set_temp_variable = { temp0 = social_liberalism_party }
			set_temp_variable = { temp_social_liberalism_party = social_liberalism_party }
		}
		
		if = {
			limit = { check_variable = { temp0 = temp_radical_socialism_party } }
			set_politics = { ruling_party = radical_socialism }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_communism_party } }
			set_politics = { ruling_party = communism }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_social_democracy_party } }
			set_politics = { ruling_party = social_democracy }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_social_liberalism_party } }
			set_politics = { ruling_party = social_liberalism }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_market_liberalism_party } }
			set_politics = { ruling_party = market_liberalism }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_social_conservatism_party } }
			set_politics = { ruling_party = social_conservatism }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_authoritarism_party } }
			set_politics = { ruling_party = authoritarism }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_despotism_party } }
			set_politics = { ruling_party = despotism }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_fascism_party } }
			set_politics = { ruling_party = fascism }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_national_syndicalism_party } }
			set_politics = { ruling_party = national_syndicalism }
		}
	}
	
	ruling_liberal_coalition = {
		set_temp_variable = { temp0 = 0 }
		
		if = {
			limit = { check_variable = { radical_socialism_coalition = 3 } }
			set_temp_variable = { temp0 = radical_socialism_party }
			set_temp_variable = { temp_radical_socialism_party = radical_socialism_party }
		}
		if = {
			limit = { check_variable = { communism_coalition = 3 } }
			set_temp_variable = { temp0 = communism_party }
			set_temp_variable = { temp_communism_party = communism_party }
		}
		if = {
			limit = { check_variable = { social_democracy_coalition = 3 } }
			set_temp_variable = { temp0 = social_democracy_party }
			set_temp_variable = { temp_social_democracy_party = social_democracy_party }
		}
		if = {
			limit = { check_variable = { social_liberalism_coalition = 3 } }
			set_temp_variable = { temp0 = social_liberalism_party }
			set_temp_variable = { temp_social_liberalism_party = social_liberalism_party }
		}
		if = {
			limit = { check_variable = { market_liberalism_coalition = 3 } }
			set_temp_variable = { temp0 = market_liberalism_party }
			set_temp_variable = { temp_market_liberalism_party = market_liberalism_party }
		}
		if = {
			limit = { check_variable = { social_conservatism_coalition = 3 } }
			set_temp_variable = { temp0 = social_conservatism_party }
			set_temp_variable = { temp_social_conservatism_party = social_conservatism_party }
		}
		if = {
			limit = { check_variable = { authoritarism_coalition = 3 } }
			set_temp_variable = { temp0 = authoritarism_party }
			set_temp_variable = { temp_authoritarism_party = authoritarism_party }
		}
		if = {
			limit = { check_variable = { despotism_coalition = 3 } }
			set_temp_variable = { temp0 = despotism_party }
			set_temp_variable = { temp_despotism_party = despotism_party }
		}
		if = {
			limit = { check_variable = { fascism_coalition = 3 } }
			set_temp_variable = { temp0 = fascism_party }
			set_temp_variable = { temp_fascism_party = fascism_party }
		}
		if = {
			limit = { check_variable = { national_syndicalism_coalition = 3 } }
			set_temp_variable = { temp0 = national_syndicalism_party }
			set_temp_variable = { temp_national_syndicalism_party = national_syndicalism_party }
		}
		
		if = {
			limit = { check_variable = { social_democracy_coalition = 0 } has_country_flag = political_social_democrats_in_liberal_coalition check_variable = { social_democracy_party > temp0 } }
			set_temp_variable = { temp0 = social_democracy_party }
			set_temp_variable = { temp_social_democracy_party = social_democracy_party }
		}
		if = {
			limit = { check_variable = { social_liberalism_coalition = 0 } NOT = { has_country_flag = political_social_liberals_not_in_liberal_coalition has_country_flag = political_social_liberals_in_socialist_coalition } check_variable = { social_liberalism_party > temp0 } }
			set_temp_variable = { temp0 = social_liberalism_party }
			set_temp_variable = { temp_social_liberalism_party = social_liberalism_party }
		}
		if = {
			limit = { check_variable = { market_liberalism_coalition = 0 } check_variable = { market_liberalism_party > temp0 } }
			set_temp_variable = { temp0 = market_liberalism_party }
			set_temp_variable = { temp_market_liberalism_party = market_liberalism_party }
		}
		if = {
			limit = { check_variable = { social_conservatism_coalition = 0 } has_country_flag = political_social_conservatives_in_liberal_coalition check_variable = { social_conservatism_party > temp0 } }
			set_temp_variable = { temp0 = social_conservatism_party }
			set_temp_variable = { temp_social_conservatism_party = social_conservatism_party }
		}
		
		if = {
			limit = { check_variable = { temp0 = temp_radical_socialism_party } }
			set_politics = { ruling_party = radical_socialism }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_communism_party } }
			set_politics = { ruling_party = communism }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_social_democracy_party } }
			set_politics = { ruling_party = social_democracy }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_social_liberalism_party } }
			set_politics = { ruling_party = social_liberalism }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_market_liberalism_party } }
			set_politics = { ruling_party = market_liberalism }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_social_conservatism_party } }
			set_politics = { ruling_party = social_conservatism }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_authoritarism_party } }
			set_politics = { ruling_party = authoritarism }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_despotism_party } }
			set_politics = { ruling_party = despotism }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_fascism_party } }
			set_politics = { ruling_party = fascism }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_national_syndicalism_party } }
			set_politics = { ruling_party = national_syndicalism }
		}
	}
	
	ruling_authoritarian_coalition = {
		set_temp_variable = { temp0 = 0 }
		
		if = {
			limit = { check_variable = { radical_socialism_coalition = 4 } }
			set_temp_variable = { temp0 = radical_socialism_party }
			set_temp_variable = { temp_radical_socialism_party = radical_socialism_party }
		}
		if = {
			limit = { check_variable = { communism_coalition = 4 } }
			set_temp_variable = { temp0 = communism_party }
			set_temp_variable = { temp_communism_party = communism_party }
		}
		if = {
			limit = { check_variable = { social_democracy_coalition = 4 } }
			set_temp_variable = { temp0 = social_democracy_party }
			set_temp_variable = { temp_social_democracy_party = social_democracy_party }
		}
		if = {
			limit = { check_variable = { social_liberalism_coalition = 4 } }
			set_temp_variable = { temp0 = social_liberalism_party }
			set_temp_variable = { temp_social_liberalism_party = social_liberalism_party }
		}
		if = {
			limit = { check_variable = { market_liberalism_coalition = 4 } }
			set_temp_variable = { temp0 = market_liberalism_party }
			set_temp_variable = { temp_market_liberalism_party = market_liberalism_party }
		}
		if = {
			limit = { check_variable = { social_conservatism_coalition = 4 } }
			set_temp_variable = { temp0 = social_conservatism_party }
			set_temp_variable = { temp_social_conservatism_party = social_conservatism_party }
		}
		if = {
			limit = { check_variable = { authoritarism_coalition = 4 } }
			set_temp_variable = { temp0 = authoritarism_party }
			set_temp_variable = { temp_authoritarism_party = authoritarism_party }
		}
		if = {
			limit = { check_variable = { despotism_coalition = 4 } }
			set_temp_variable = { temp0 = despotism_party }
			set_temp_variable = { temp_despotism_party = despotism_party }
		}
		if = {
			limit = { check_variable = { fascism_coalition = 4 } }
			set_temp_variable = { temp0 = fascism_party }
			set_temp_variable = { temp_fascism_party = fascism_party }
		}
		if = {
			limit = { check_variable = { national_syndicalism_coalition = 4 } }
			set_temp_variable = { temp0 = national_syndicalism_party }
			set_temp_variable = { temp_national_syndicalism_party = national_syndicalism_party }
		}
		
		if = {
			limit = { check_variable = { social_conservatism_coalition = 0 } NOT = { has_country_flag = political_social_conservatives_in_liberal_coalition } check_variable = { social_conservatism_party > temp0 } }
			set_temp_variable = { temp0 = social_conservatism_party }
			set_temp_variable = { temp_social_conservatism_party = social_conservatism_party }
		}
		if = {
			limit = { check_variable = { authoritarism_coalition = 0 } check_variable = { authoritarism_party > temp0 } }
			set_temp_variable = { temp0 = authoritarism_party }
			set_temp_variable = { temp_authoritarism_party = authoritarism_party }
		}
		if = {
			limit = { check_variable = { despotism_coalition = 0 } check_variable = { despotism_party > temp0 } }
			set_temp_variable = { temp0 = despotism_party }
			set_temp_variable = { temp_despotism_party = despotism_party }
		}
		
		if = {
			limit = { check_variable = { temp0 = temp_radical_socialism_party } }
			set_politics = { ruling_party = radical_socialism }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_communism_party } }
			set_politics = { ruling_party = communism }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_social_democracy_party } }
			set_politics = { ruling_party = social_democracy }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_social_liberalism_party } }
			set_politics = { ruling_party = social_liberalism }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_market_liberalism_party } }
			set_politics = { ruling_party = market_liberalism }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_social_conservatism_party } }
			set_politics = { ruling_party = social_conservatism }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_authoritarism_party } }
			set_politics = { ruling_party = authoritarism }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_despotism_party } }
			set_politics = { ruling_party = despotism }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_fascism_party } }
			set_politics = { ruling_party = fascism }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_national_syndicalism_party } }
			set_politics = { ruling_party = national_syndicalism }
		}
	}
	
	ruling_reactionary_coalition = {
		set_temp_variable = { temp0 = 0 }
		
		if = {
			limit = { check_variable = { radical_socialism_coalition = 4 } }
			set_temp_variable = { temp0 = radical_socialism_party }
			set_temp_variable = { temp_radical_socialism_party = radical_socialism_party }
		}
		if = {
			limit = { check_variable = { communism_coalition = 4 } }
			set_temp_variable = { temp0 = communism_party }
			set_temp_variable = { temp_communism_party = communism_party }
		}
		if = {
			limit = { check_variable = { social_democracy_coalition = 4 } }
			set_temp_variable = { temp0 = social_democracy_party }
			set_temp_variable = { temp_social_democracy_party = social_democracy_party }
		}
		if = {
			limit = { check_variable = { social_liberalism_coalition = 4 } }
			set_temp_variable = { temp0 = social_liberalism_party }
			set_temp_variable = { temp_social_liberalism_party = social_liberalism_party }
		}
		if = {
			limit = { check_variable = { market_liberalism_coalition = 4 } }
			set_temp_variable = { temp0 = market_liberalism_party }
			set_temp_variable = { temp_market_liberalism_party = market_liberalism_party }
		}
		if = {
			limit = { check_variable = { social_conservatism_coalition = 4 } }
			set_temp_variable = { temp0 = social_conservatism_party }
			set_temp_variable = { temp_social_conservatism_party = social_conservatism_party }
		}
		if = {
			limit = { check_variable = { authoritarism_coalition = 4 } }
			set_temp_variable = { temp0 = authoritarism_party }
			set_temp_variable = { temp_authoritarism_party = authoritarism_party }
		}
		if = {
			limit = { check_variable = { despotism_coalition = 4 } }
			set_temp_variable = { temp0 = despotism_party }
			set_temp_variable = { temp_despotism_party = despotism_party }
		}
		if = {
			limit = { check_variable = { fascism_coalition = 4 } }
			set_temp_variable = { temp0 = fascism_party }
			set_temp_variable = { temp_fascism_party = fascism_party }
		}
		if = {
			limit = { check_variable = { national_syndicalism_coalition = 4 } }
			set_temp_variable = { temp0 = national_syndicalism_party }
			set_temp_variable = { temp_national_syndicalism_party = national_syndicalism_party }
		}
		
		if = {
			limit = { check_variable = { fascism_coalition = 0 } check_variable = { fascism_party > temp0 } }
			set_temp_variable = { temp0 = fascism_party }
			set_temp_variable = { temp_fascism_party = fascism_party }
		}
		if = {
			limit = { check_variable = { national_syndicalism_coalition = 0 } check_variable = { national_syndicalism_parties > temp0 } }
			set_temp_variable = { temp0 = national_syndicalism_parties }
			set_temp_variable = { temp_national_syndicalism_parties = national_syndicalism_parties }
		}
		
		if = {
			limit = { check_variable = { temp0 = temp_radical_socialism_party } }
			set_politics = { ruling_party = radical_socialism }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_communism_party } }
			set_politics = { ruling_party = communism }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_social_democracy_party } }
			set_politics = { ruling_party = social_democracy }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_social_liberalism_party } }
			set_politics = { ruling_party = social_liberalism }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_market_liberalism_party } }
			set_politics = { ruling_party = market_liberalism }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_social_conservatism_party } }
			set_politics = { ruling_party = social_conservatism }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_authoritarism_party } }
			set_politics = { ruling_party = authoritarism }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_despotism_party } }
			set_politics = { ruling_party = despotism }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_fascism_party } }
			set_politics = { ruling_party = fascism }
		}
		else_if = {
			limit = { check_variable = { temp0 = temp_national_syndicalism_party } }
			set_politics = { ruling_party = national_syndicalism }
		}
	}

	set_first_legal_party_flag = {
		clr_country_flag = first_legal_party_is_radsoc
		clr_country_flag = first_legal_party_is_commi
		clr_country_flag = first_legal_party_is_socdem
		clr_country_flag = first_legal_party_is_soclib
		clr_country_flag = first_legal_party_is_marketlib
		clr_country_flag = first_legal_party_is_cons
		clr_country_flag = first_legal_party_is_auth
		clr_country_flag = first_legal_party_is_desp
		clr_country_flag = first_legal_party_is_fasc
		clr_country_flag = first_legal_party_is_natsynd
		
		set_temp_variable = { temp0 = 0 }
		if = {
			limit = { NOT = { has_government = fascism has_government = national_syndicalism has_government = despotism has_government = authoritarism } }
			set_temp_variable = { tempradsoc = radical_socialism_party }
			else = { set_temp_variable = { tempradsoc = 0 } }
		}
		if = {
			limit = { NOT = { has_government = fascism has_government = national_syndicalism has_government = despotism has_government = authoritarism } }
			set_temp_variable = { tempcommi = communism_party }
			else = { set_temp_variable = { tempcommi = 0 } }
		}
		if = {
			limit = {  }
			set_temp_variable = { tempsocdem = social_democracy_party }
			else = { set_temp_variable = { tempsocdem = 0 } }
		}
		if = {
			limit = { OR = { NOT = { has_government = radical_socialism has_government = communism } NOT = { has_country_flag = right_parties_is_illegal } } }
			set_temp_variable = { tempsoclib = social_liberalism_party }
			else = { set_temp_variable = { tempsoclib = 0 } }
		}
		if = {
			limit = { OR = { NOT = { has_government = radical_socialism has_government = communism } NOT = { has_country_flag = right_parties_is_illegal } } }
			set_temp_variable = { tempmarketlib = market_liberalism_party }
			else = { set_temp_variable = { tempmarketlib = 0 } }
		}
		if = {
			limit = { NOT = { has_government = radical_socialism has_government = communism } }
			set_temp_variable = { tempcons = social_conservatism_party }
			else = { set_temp_variable = { tempcons = 0 } }
		}
		if = {
			limit = { NOT = { has_government = radical_socialism has_government = communism } }
			set_temp_variable = { tempauth = authoritarism_party }
			else = { set_temp_variable = { tempauth = 0 } }
		}
		if = {
			limit = { NOT = { has_government = radical_socialism has_government = communism } }
			set_temp_variable = { tempdesp = despotism_party }
			else = { set_temp_variable = { tempdesp = 0 } }
		}
		if = {
			limit = { NOT = { has_government = radical_socialism has_government = communism } }
			set_temp_variable = { tempfasc = fascism_party }
			else = { set_temp_variable = { tempfasc = 0 } }
		}
		if = {
			limit = { NOT = { has_government = radical_socialism has_government = communism } }
			set_temp_variable = { tempnatsynd = national_syndicalism_party }
			else = { set_temp_variable = { tempnatsynd = 0 } }
		}

		if = {
			limit = { check_variable = { tempradsoc > temp0 } }
			set_temp_variable = { temp0 = tempradsoc }
		}
		if = {
			limit = { check_variable = { tempcommi > temp0 } }
			set_temp_variable = { temp0 = tempcommi }
		}
		if = {
			limit = { check_variable = { tempsocdem > temp0 } }
			set_temp_variable = { temp0 = tempsocdem }
		}
		if = {
			limit = { check_variable = { tempsoclib > temp0 } }
			set_temp_variable = { temp0 = tempsoclib }
		}
		if = {
			limit = { check_variable = { tempmarketlib > temp0 } }
			set_temp_variable = { temp0 = tempmarketlib }
		}
		if = {
			limit = { check_variable = { tempcons > temp0 } }
			set_temp_variable = { temp0 = tempcons }
		}
		if = {
			limit = { check_variable = { tempauth > temp0 } }
			set_temp_variable = { temp0 = tempauth }
		}
		if = {
			limit = { check_variable = { tempdesp > temp0 } }
			set_temp_variable = { temp0 = tempdesp }
		}
		if = {
			limit = { check_variable = { tempfasc > temp0 } }
			set_temp_variable = { temp0 = tempfasc }
		}
		if = {
			limit = { check_variable = { tempnatsynd > temp0 } }
			set_temp_variable = { temp0 = tempnatsynd }
		}

		if = {
			limit = { check_variable = { temp0 = tempradsoc } }
			set_country_flag = first_legal_party_is_radsoc
		}
		else_if = {
			limit = { check_variable = { temp0 = tempcommi } }
			set_country_flag = first_legal_party_is_commi
		}
		else_if = {
			limit = { check_variable = { temp0 = tempsocdem } }
			set_country_flag = first_legal_party_is_socdem
		}
		else_if = {
			limit = { check_variable = { temp0 = tempsoclib } }
			set_country_flag = first_legal_party_is_soclib
		}
		else_if = {
			limit = { check_variable = { temp0 = tempmarketlib } }
			set_country_flag = first_legal_party_is_marketlib
		}
		else_if = {
			limit = { check_variable = { temp0 = tempcons } }
			set_country_flag = first_legal_party_is_cons
		}
		else_if = {
			limit = { check_variable = { temp0 = tempauth } }
			set_country_flag = first_legal_party_is_auth
		}
		else_if = {
			limit = { check_variable = { temp0 = tempdesp } }
			set_country_flag = first_legal_party_is_desp
		}
		else_if = {
			limit = { check_variable = { temp0 = tempfasc } }
			set_country_flag = first_legal_party_is_fasc
		}
		else_if = {
			limit = { check_variable = { temp0 = tempnatsynd } }
			set_country_flag = first_legal_party_is_natsynd
		}
	}
	set_second_legal_party_flag = {
		clr_country_flag = second_legal_party_is_radsoc
		clr_country_flag = second_legal_party_is_commi
		clr_country_flag = second_legal_party_is_socdem
		clr_country_flag = second_legal_party_is_soclib
		clr_country_flag = second_legal_party_is_marketlib
		clr_country_flag = second_legal_party_is_cons
		clr_country_flag = second_legal_party_is_auth
		clr_country_flag = second_legal_party_is_desp
		clr_country_flag = second_legal_party_is_fasc
		clr_country_flag = second_legal_party_is_natsynd
		
		set_temp_variable = { temp0 = 0 }
		if = {
			limit = { NOT = { has_country_flag = first_legal_party_is_radsoc } NOT = { has_government = fascism has_government = national_syndicalism has_government = despotism has_government = authoritarism } }
			set_temp_variable = { tempradsoc = radical_socialism_party }
			else = { set_temp_variable = { tempradsoc = 0 } }
		}
		if = {
			limit = { NOT = { has_country_flag = first_legal_party_is_commi } NOT = { has_government = fascism has_government = national_syndicalism has_government = despotism has_government = authoritarism } }
			set_temp_variable = { tempcommi = communism_party }
			else = { set_temp_variable = { tempcommi = 0 } }
		}
		if = {
			limit = { NOT = { has_country_flag = first_legal_party_is_socdem } }
			set_temp_variable = { tempsocdem = social_democracy_party }
			else = { set_temp_variable = { tempsocdem = 0 } }
		}
		if = {
			limit = { NOT = { has_country_flag = first_legal_party_is_soclib } OR = { NOT = { has_government = radical_socialism has_government = communism } NOT = { has_country_flag = right_parties_is_illegal } } }
			set_temp_variable = { tempsoclib = social_liberalism_party }
			else = { set_temp_variable = { tempsoclib = 0 } }
		}
		if = {
			limit = { NOT = { has_country_flag = first_legal_party_is_socdem } OR = { NOT = { has_government = radical_socialism has_government = communism } NOT = { has_country_flag = right_parties_is_illegal } } }
			set_temp_variable = { tempmarketlib = market_liberalism_party }
			else = { set_temp_variable = { tempmarketlib = 0 } }
		}
		if = {
			limit = { NOT = { has_country_flag = first_legal_party_is_cons } NOT = { has_government = radical_socialism has_government = communism } }
			set_temp_variable = { tempcons = social_conservatism_party }
			else = { set_temp_variable = { tempcons = 0 } }
		}
		if = {
			limit = { NOT = { has_country_flag = first_legal_party_is_auth } NOT = { has_government = radical_socialism has_government = communism } }
			set_temp_variable = { tempauth = authoritarism_party }
			else = { set_temp_variable = { tempauth = 0 } }
		}
		if = {
			limit = { NOT = { has_country_flag = first_legal_party_is_desp } NOT = { has_government = radical_socialism has_government = communism } }
			set_temp_variable = { tempdesp = despotism_party }
			else = { set_temp_variable = { tempdesp = 0 } }
		}
		if = {
			limit = { NOT = { has_country_flag = first_legal_party_is_fasc } NOT = { has_government = radical_socialism has_government = communism } }
			set_temp_variable = { tempfasc = fascism_party }
			else = { set_temp_variable = { tempfasc = 0 } }
		}
		if = {
			limit = { NOT = { has_country_flag = first_legal_party_is_natsynd } NOT = { has_government = radical_socialism has_government = communism } }
			set_temp_variable = { tempnatsynd = national_syndicalism_party }
			else = { set_temp_variable = { tempnatsynd = 0 } }
		}

		if = {
			limit = { check_variable = { tempradsoc > temp0 } }
			set_temp_variable = { temp0 = tempradsoc }
		}
		if = {
			limit = { check_variable = { tempcommi > temp0 } }
			set_temp_variable = { temp0 = tempcommi }
		}
		if = {
			limit = { check_variable = { tempsocdem > temp0 } }
			set_temp_variable = { temp0 = tempsocdem }
		}
		if = {
			limit = { check_variable = { tempsoclib > temp0 } }
			set_temp_variable = { temp0 = tempsoclib }
		}
		if = {
			limit = { check_variable = { tempmarketlib > temp0 } }
			set_temp_variable = { temp0 = tempmarketlib }
		}
		if = {
			limit = { check_variable = { tempcons > temp0 } }
			set_temp_variable = { temp0 = tempcons }
		}
		if = {
			limit = { check_variable = { tempauth > temp0 } }
			set_temp_variable = { temp0 = tempauth }
		}
		if = {
			limit = { check_variable = { tempdesp > temp0 } }
			set_temp_variable = { temp0 = tempdesp }
		}
		if = {
			limit = { check_variable = { tempfasc > temp0 } }
			set_temp_variable = { temp0 = tempfasc }
		}
		if = {
			limit = { check_variable = { tempnatsynd > temp0 } }
			set_temp_variable = { temp0 = tempnatsynd }
		}

		if = {
			limit = { check_variable = { temp0 = tempradsoc } }
			set_country_flag = second_legal_party_is_radsoc
		}
		else_if = {
			limit = { check_variable = { temp0 = tempcommi } }
			set_country_flag = second_legal_party_is_commi
		}
		else_if = {
			limit = { check_variable = { temp0 = tempsocdem } }
			set_country_flag = second_legal_party_is_socdem
		}
		else_if = {
			limit = { check_variable = { temp0 = tempsoclib } }
			set_country_flag = second_legal_party_is_soclib
		}
		else_if = {
			limit = { check_variable = { temp0 = tempmarketlib } }
			set_country_flag = second_legal_party_is_marketlib
		}
		else_if = {
			limit = { check_variable = { temp0 = tempcons } }
			set_country_flag = second_legal_party_is_cons
		}
		else_if = {
			limit = { check_variable = { temp0 = tempauth } }
			set_country_flag = second_legal_party_is_auth
		}
		else_if = {
			limit = { check_variable = { temp0 = tempdesp } }
			set_country_flag = second_legal_party_is_desp
		}
		else_if = {
			limit = { check_variable = { temp0 = tempfasc } }
			set_country_flag = second_legal_party_is_fasc
		}
		else_if = {
			limit = { check_variable = { temp0 = tempnatsynd } }
			set_country_flag = second_legal_party_is_natsynd
		}
	}
	set_trith_legal_party_flag = {
		clr_country_flag = trith_legal_party_is_radsoc
		clr_country_flag = trith_legal_party_is_commi
		clr_country_flag = trith_legal_party_is_socdem
		clr_country_flag = trith_legal_party_is_soclib
		clr_country_flag = trith_legal_party_is_marketlib
		clr_country_flag = trith_legal_party_is_cons
		clr_country_flag = trith_legal_party_is_auth
		clr_country_flag = trith_legal_party_is_desp
		clr_country_flag = trith_legal_party_is_fasc
		clr_country_flag = trith_legal_party_is_natsynd
		
		set_temp_variable = { temp0 = 0 }
		if = {
			limit = { NOT = { has_country_flag = first_legal_party_is_radsoc has_country_flag = second_legal_party_is_radsoc } NOT = { has_government = fascism has_government = national_syndicalism has_government = despotism has_government = authoritarism } }
			set_temp_variable = { tempradsoc = radical_socialism_party }
			else = { set_temp_variable = { tempradsoc = 0 } }
		}
		if = {
			limit = { NOT = { has_country_flag = first_legal_party_is_commi has_country_flag = second_legal_party_is_commi } NOT = { has_government = fascism has_government = national_syndicalism has_government = despotism has_government = authoritarism } }
			set_temp_variable = { tempcommi = communism_party }
			else = { set_temp_variable = { tempcommi = 0 } }
		}
		if = {
			limit = { NOT = { has_country_flag = first_legal_party_is_socdem has_country_flag = second_legal_party_is_socdem } }
			set_temp_variable = { tempsocdem = social_democracy_party }
			else = { set_temp_variable = { tempsocdem = 0 } }
		}
		if = {
			limit = { NOT = { has_country_flag = first_legal_party_is_soclib has_country_flag = second_legal_party_is_soclib } OR = { NOT = { has_government = radical_socialism has_government = communism } NOT = { has_country_flag = right_parties_is_illegal } } }
			set_temp_variable = { tempsoclib = social_liberalism_party }
			else = { set_temp_variable = { tempsoclib = 0 } }
		}
		if = {
			limit = { NOT = { has_country_flag = first_legal_party_is_marketlib has_country_flag = second_legal_party_is_marketlib } OR = { NOT = { has_government = radical_socialism has_government = communism } NOT = { has_country_flag = right_parties_is_illegal } } }
			set_temp_variable = { tempmarketlib = market_liberalism_party }
			else = { set_temp_variable = { tempmarketlib = 0 } }
		}
		if = {
			limit = { NOT = { has_country_flag = first_legal_party_is_cons has_country_flag = second_legal_party_is_cons } NOT = { has_government = radical_socialism has_government = communism } }
			set_temp_variable = { tempcons = social_conservatism_party }
			else = { set_temp_variable = { tempcons = 0 } }
		}
		if = {
			limit = { NOT = { has_country_flag = first_legal_party_is_auth has_country_flag = second_legal_party_is_auth } NOT = { has_government = radical_socialism has_government = communism } }
			set_temp_variable = { tempauth = authoritarism_party }
			else = { set_temp_variable = { tempauth = 0 } }
		}
		if = {
			limit = { NOT = { has_country_flag = first_legal_party_is_desp has_country_flag = second_legal_party_is_desp } NOT = { has_government = radical_socialism has_government = communism } }
			set_temp_variable = { tempdesp = despotism_party }
			else = { set_temp_variable = { tempdesp = 0 } }
		}
		if = {
			limit = { NOT = { has_country_flag = first_legal_party_is_fasc has_country_flag = second_legal_party_is_fasc } NOT = { has_government = radical_socialism has_government = communism } }
			set_temp_variable = { tempfasc = fascism_party }
			else = { set_temp_variable = { tempfasc = 0 } }
		}
		if = {
			limit = { NOT = { has_country_flag = first_legal_party_is_natsynd has_country_flag = second_legal_party_is_natsynd } NOT = { has_government = radical_socialism has_government = communism } }
			set_temp_variable = { tempnatsynd = national_syndicalism_party }
			else = { set_temp_variable = { tempnatsynd = 0 } }
		}

		if = {
			limit = { check_variable = { tempradsoc > temp0 } }
			set_temp_variable = { temp0 = tempradsoc }
		}
		if = {
			limit = { check_variable = { tempcommi > temp0 } }
			set_temp_variable = { temp0 = tempcommi }
		}
		if = {
			limit = { check_variable = { tempsocdem > temp0 } }
			set_temp_variable = { temp0 = tempsocdem }
		}
		if = {
			limit = { check_variable = { tempsoclib > temp0 } }
			set_temp_variable = { temp0 = tempsoclib }
		}
		if = {
			limit = { check_variable = { tempmarketlib > temp0 } }
			set_temp_variable = { temp0 = tempmarketlib }
		}
		if = {
			limit = { check_variable = { tempcons > temp0 } }
			set_temp_variable = { temp0 = tempcons }
		}
		if = {
			limit = { check_variable = { tempauth > temp0 } }
			set_temp_variable = { temp0 = tempauth }
		}
		if = {
			limit = { check_variable = { tempdesp > temp0 } }
			set_temp_variable = { temp0 = tempdesp }
		}
		if = {
			limit = { check_variable = { tempfasc > temp0 } }
			set_temp_variable = { temp0 = tempfasc }
		}
		if = {
			limit = { check_variable = { tempnatsynd > temp0 } }
			set_temp_variable = { temp0 = tempnatsynd }
		}

		if = {
			limit = { check_variable = { temp0 = tempradsoc } }
			set_country_flag = trith_legal_party_is_radsoc
		}
		else_if = {
			limit = { check_variable = { temp0 = tempcommi } }
			set_country_flag = trith_legal_party_is_commi
		}
		else_if = {
			limit = { check_variable = { temp0 = tempsocdem } }
			set_country_flag = trith_legal_party_is_socdem
		}
		else_if = {
			limit = { check_variable = { temp0 = tempsoclib } }
			set_country_flag = trith_legal_party_is_soclib
		}
		else_if = {
			limit = { check_variable = { temp0 = tempmarketlib } }
			set_country_flag = trith_legal_party_is_marketlib
		}
		else_if = {
			limit = { check_variable = { temp0 = tempcons } }
			set_country_flag = trith_legal_party_is_cons
		}
		else_if = {
			limit = { check_variable = { temp0 = tempauth } }
			set_country_flag = trith_legal_party_is_auth
		}
		else_if = {
			limit = { check_variable = { temp0 = tempdesp } }
			set_country_flag = trith_legal_party_is_desp
		}
		else_if = {
			limit = { check_variable = { temp0 = tempfasc } }
			set_country_flag = trith_legal_party_is_fasc
		}
		else_if = {
			limit = { check_variable = { temp0 = tempnatsynd } }
			set_country_flag = trith_legal_party_is_natsynd
		}
	}


	set_first_wthout_ruling_legal_party_flag = {
		clr_country_flag = first_wthout_ruling_legal_party_is_radsoc
		clr_country_flag = first_wthout_ruling_legal_party_is_commi
		clr_country_flag = first_wthout_ruling_legal_party_is_socdem
		clr_country_flag = first_wthout_ruling_legal_party_is_soclib
		clr_country_flag = first_wthout_ruling_legal_party_is_marketlib
		clr_country_flag = first_wthout_ruling_legal_party_is_cons
		clr_country_flag = first_wthout_ruling_legal_party_is_auth
		clr_country_flag = first_wthout_ruling_legal_party_is_desp
		clr_country_flag = first_wthout_ruling_legal_party_is_fasc
		clr_country_flag = first_wthout_ruling_legal_party_is_natsynd
		
		set_temp_variable = { temp0 = 0 }
		if = {
			limit = { NOT = { has_government = radical_socialism } NOT = { has_government = fascism has_government = national_syndicalism has_government = despotism has_government = authoritarism } }
			set_temp_variable = { tempradsoc = radical_socialism_party }
			else = { set_temp_variable = { tempradsoc = 0 } }
		}
		if = {
			limit = { NOT = { has_government = communism } NOT = { has_government = fascism has_government = national_syndicalism has_government = despotism has_government = authoritarism } }
			set_temp_variable = { tempcommi = communism_party }
			else = { set_temp_variable = { tempcommi = 0 } }
		}
		if = {
			limit = { NOT = { has_government = social_democracy } }
			set_temp_variable = { tempsocdem = social_democracy_party }
			else = { set_temp_variable = { tempsocdem = 0 } }
		}
		if = {
			limit = { NOT = { has_government = social_liberalism } OR = { NOT = { has_government = radical_socialism has_government = communism } NOT = { has_country_flag = right_parties_is_illegal } } }
			set_temp_variable = { tempsoclib = social_liberalism_party }
			else = { set_temp_variable = { tempsoclib = 0 } }
		}
		if = {
			limit = { NOT = { has_government = market_liberalism } OR = { NOT = { has_government = radical_socialism has_government = communism } NOT = { has_country_flag = right_parties_is_illegal } } }
			set_temp_variable = { tempmarketlib = market_liberalism_party }
			else = { set_temp_variable = { tempmarketlib = 0 } }
		}
		if = {
			limit = { NOT = { has_government = social_conservatism } NOT = { has_government = radical_socialism has_government = communism } }
			set_temp_variable = { tempcons = social_conservatism_party }
			else = { set_temp_variable = { tempcons = 0 } }
		}
		if = {
			limit = { NOT = { has_government = authoritarism } NOT = { has_government = radical_socialism has_government = communism } }
			set_temp_variable = { tempauth = authoritarism_party }
			else = { set_temp_variable = { tempauth = 0 } }
		}
		if = {
			limit = { NOT = { has_government = despotism } NOT = { has_government = radical_socialism has_government = communism } }
			set_temp_variable = { tempdesp = despotism_party }
			else = { set_temp_variable = { tempdesp = 0 } }
		}
		if = {
			limit = { NOT = { has_government = fascism } NOT = { has_government = radical_socialism has_government = communism } }
			set_temp_variable = { tempfasc = fascism_party }
			else = { set_temp_variable = { tempfasc = 0 } }
		}
		if = {
			limit = { NOT = { has_government = national_syndicalism } NOT = { has_government = radical_socialism has_government = communism } }
			set_temp_variable = { tempnatsynd = national_syndicalism_party }
			else = { set_temp_variable = { tempnatsynd = 0 } }
		}

		if = {
			limit = { check_variable = { tempradsoc > temp0 } }
			set_temp_variable = { temp0 = tempradsoc }
		}
		if = {
			limit = { check_variable = { tempcommi > temp0 } }
			set_temp_variable = { temp0 = tempcommi }
		}
		if = {
			limit = { check_variable = { tempsocdem > temp0 } }
			set_temp_variable = { temp0 = tempsocdem }
		}
		if = {
			limit = { check_variable = { tempsoclib > temp0 } }
			set_temp_variable = { temp0 = tempsoclib }
		}
		if = {
			limit = { check_variable = { tempmarketlib > temp0 } }
			set_temp_variable = { temp0 = tempmarketlib }
		}
		if = {
			limit = { check_variable = { tempcons > temp0 } }
			set_temp_variable = { temp0 = tempcons }
		}
		if = {
			limit = { check_variable = { tempauth > temp0 } }
			set_temp_variable = { temp0 = tempauth }
		}
		if = {
			limit = { check_variable = { tempdesp > temp0 } }
			set_temp_variable = { temp0 = tempdesp }
		}
		if = {
			limit = { check_variable = { tempfasc > temp0 } }
			set_temp_variable = { temp0 = tempfasc }
		}
		if = {
			limit = { check_variable = { tempnatsynd > temp0 } }
			set_temp_variable = { temp0 = tempnatsynd }
		}

		if = {
			limit = { check_variable = { temp0 = tempradsoc } }
			set_country_flag = first_wthout_ruling_legal_party_is_radsoc
		}
		else_if = {
			limit = { check_variable = { temp0 = tempcommi } }
			set_country_flag = first_wthout_ruling_legal_party_is_commi
		}
		else_if = {
			limit = { check_variable = { temp0 = tempsocdem } }
			set_country_flag = first_wthout_ruling_legal_party_is_socdem
		}
		else_if = {
			limit = { check_variable = { temp0 = tempsoclib } }
			set_country_flag = first_wthout_ruling_legal_party_is_soclib
		}
		else_if = {
			limit = { check_variable = { temp0 = tempmarketlib } }
			set_country_flag = first_wthout_ruling_legal_party_is_marketlib
		}
		else_if = {
			limit = { check_variable = { temp0 = tempcons } }
			set_country_flag = first_wthout_ruling_legal_party_is_cons
		}
		else_if = {
			limit = { check_variable = { temp0 = tempauth } }
			set_country_flag = first_wthout_ruling_legal_party_is_auth
		}
		else_if = {
			limit = { check_variable = { temp0 = tempdesp } }
			set_country_flag = first_wthout_ruling_legal_party_is_desp
		}
		else_if = {
			limit = { check_variable = { temp0 = tempfasc } }
			set_country_flag = first_wthout_ruling_legal_party_is_fasc
		}
		else_if = {
			limit = { check_variable = { temp0 = tempnatsynd } }
			set_country_flag = first_wthout_ruling_legal_party_is_natsynd
		}
	}

	add_first_wthout_ruling_legal_party_popularity_10 = {
		if = {
			limit = { has_country_flag = first_wthout_ruling_legal_party_is_radsoc }
			add_popularity = {
				ideology = radical_socialism
				popularity = 0.1
			}
		}
		else_if = {
			limit = { has_country_flag = first_wthout_ruling_legal_party_is_commi }
			add_popularity = {
				ideology = communism
				popularity = 0.1
			}
		}
		else_if = {
			limit = { has_country_flag = first_wthout_ruling_legal_party_is_socdem }
			add_popularity = {
				ideology = social_democracy
				popularity = 0.1
			}
		}
		else_if = {
			limit = { has_country_flag = first_wthout_ruling_legal_party_is_soclib }
			add_popularity = {
				ideology = social_liberalism
				popularity = 0.1
			}
		}
		else_if = {
			limit = { has_country_flag = first_wthout_ruling_legal_party_is_marketlib }
			add_popularity = {
				ideology = market_liberalism
				popularity = 0.1
			}
		}
		else_if = {
			limit = { has_country_flag = first_wthout_ruling_legal_party_is_cons }
			add_popularity = {
				ideology = social_conservatism
				popularity  = 0.1
			}
		}
		else_if = {
			limit = { has_country_flag = first_wthout_ruling_legal_party_is_auth }
			add_popularity = {
				ideology = authoritarism
				popularity = 0.1
			}
		}
		else_if = {
			limit = { has_country_flag = first_wthout_ruling_legal_party_is_desp }
			add_popularity = {
				ideology = despotism
				popularity = 0.1
			}
		}
		else_if = {
			limit = { has_country_flag = first_wthout_ruling_legal_party_is_fasc }
			add_popularity = {
				ideology = fascism
				popularity = 0.1
			}
		}
		else_if = {
			limit = { has_country_flag = first_wthout_ruling_legal_party_is_natsynd }
			add_popularity = {
				ideology = national_syndicalism
				popularity = 0.1
			}
		}
	}
	add_first_wthout_ruling_legal_party_popularity_20 = {
		if = {
			limit = { has_country_flag = first_wthout_ruling_legal_party_is_radsoc }
			add_popularity = {
				ideology = radical_socialism
				popularity = 0.2
			}
		}
		else_if = {
			limit = { has_country_flag = first_wthout_ruling_legal_party_is_commi }
			add_popularity = {
				ideology = communism
				popularity = 0.2
			}
		}
		else_if = {
			limit = { has_country_flag = first_wthout_ruling_legal_party_is_socdem }
			add_popularity = {
				ideology = social_democracy
				popularity = 0.2
			}
		}
		else_if = {
			limit = { has_country_flag = first_wthout_ruling_legal_party_is_soclib }
			add_popularity = {
				ideology = social_liberalism
				popularity = 0.2
			}
		}
		else_if = {
			limit = { has_country_flag = first_wthout_ruling_legal_party_is_marketlib }
			add_popularity = {
				ideology = market_liberalism
				popularity = 0.2
			}
		}
		else_if = {
			limit = { has_country_flag = first_wthout_ruling_legal_party_is_cons }
			add_popularity = {
				ideology = social_conservatism
				popularity  = 0.2
			}
		}
		else_if = {
			limit = { has_country_flag = first_wthout_ruling_legal_party_is_auth }
			add_popularity = {
				ideology = authoritarism
				popularity = 0.2
			}
		}
		else_if = {
			limit = { has_country_flag = first_wthout_ruling_legal_party_is_desp }
			add_popularity = {
				ideology = despotism
				popularity = 0.2
			}
		}
		else_if = {
			limit = { has_country_flag = first_wthout_ruling_legal_party_is_fasc }
			add_popularity = {
				ideology = fascism
				popularity = 0.2
			}
		}
		else_if = {
			limit = { has_country_flag = first_wthout_ruling_legal_party_is_natsynd }
			add_popularity = {
				ideology = national_syndicalism
				popularity = 0.2
			}
		}
	}

	elections_allowed_0 = {
	if = { limit = { has_government = radical_socialism } set_politics = { ruling_party = radical_socialism elections_allowed = yes } }
	if = { limit = { has_government = communism } set_politics = { ruling_party = communism elections_allowed = yes } }
	if = { limit = { has_government = social_democracy } set_politics = { ruling_party = social_democracy elections_allowed = yes } }
	if = { limit = { has_government = social_liberalism } set_politics = { ruling_party = social_liberalism elections_allowed = yes } }
	if = { limit = { has_government = market_liberalism } set_politics = { ruling_party = market_liberalism elections_allowed = yes } }
	if = { limit = { has_government = social_conservatism } set_politics = { ruling_party = social_conservatism elections_allowed = yes } }
	if = { limit = { has_government = authoritarism } set_politics = { ruling_party = authoritarism elections_allowed = yes } }
	if = { limit = { has_government = despotism } set_politics = { ruling_party = despotism elections_allowed = yes } }
	if = { limit = { has_government = fascism } set_politics = { ruling_party = fascism elections_allowed = yes } }
	if = { limit = { has_government = national_syndicalism } set_politics = { ruling_party = national_syndicalism elections_allowed = yes } }
	}
	
	elections_allowed_36 = {
	if = { limit = { has_government = radical_socialism } set_politics = { ruling_party = radical_socialism elections_allowed = yes election_frequency = 36 } }
	if = { limit = { has_government = communism } set_politics = { ruling_party = communism elections_allowed = yes election_frequency = 36 } }
	if = { limit = { has_government = social_democracy } set_politics = { ruling_party = social_democracy elections_allowed = yes election_frequency = 36 } }
	if = { limit = { has_government = social_liberalism } set_politics = { ruling_party = social_liberalism elections_allowed = yes election_frequency = 36 } }
	if = { limit = { has_government = market_liberalism } set_politics = { ruling_party = market_liberalism elections_allowed = yes election_frequency = 36 } }
	if = { limit = { has_government = social_conservatism } set_politics = { ruling_party = social_conservatism elections_allowed = yes election_frequency = 36 } }
	if = { limit = { has_government = authoritarism } set_politics = { ruling_party = authoritarism elections_allowed = yes election_frequency = 36 } }
	if = { limit = { has_government = despotism } set_politics = { ruling_party = despotism elections_allowed = yes election_frequency = 36 } }
	if = { limit = { has_government = fascism } set_politics = { ruling_party = fascism elections_allowed = yes election_frequency = 36 } }
	if = { limit = { has_government = national_syndicalism } set_politics = { ruling_party = national_syndicalism elections_allowed = yes election_frequency = 36 } }
	}
	
	elections_allowed_48 = {
	if = { limit = { has_government = radical_socialism } set_politics = { ruling_party = radical_socialism elections_allowed = yes election_frequency = 48 } }
	if = { limit = { has_government = communism } set_politics = { ruling_party = communism elections_allowed = yes election_frequency = 48 } }
	if = { limit = { has_government = social_democracy } set_politics = { ruling_party = social_democracy elections_allowed = yes election_frequency = 48 } }
	if = { limit = { has_government = social_liberalism } set_politics = { ruling_party = social_liberalism elections_allowed = yes election_frequency = 48 } }
	if = { limit = { has_government = market_liberalism } set_politics = { ruling_party = market_liberalism elections_allowed = yes election_frequency = 48 } }
	if = { limit = { has_government = social_conservatism } set_politics = { ruling_party = social_conservatism elections_allowed = yes election_frequency = 48 } }
	if = { limit = { has_government = authoritarism } set_politics = { ruling_party = authoritarism elections_allowed = yes election_frequency = 48 } }
	if = { limit = { has_government = despotism } set_politics = { ruling_party = despotism elections_allowed = yes election_frequency = 48 } }
	if = { limit = { has_government = fascism } set_politics = { ruling_party = fascism elections_allowed = yes election_frequency = 48 } }
	if = { limit = { has_government = national_syndicalism } set_politics = { ruling_party = national_syndicalism elections_allowed = yes election_frequency = 48 } }
	}
	
	elections_allowed_60 = {
	if = { limit = { has_government = radical_socialism } set_politics = { ruling_party = radical_socialism elections_allowed = yes election_frequency = 60 } }
	if = { limit = { has_government = communism } set_politics = { ruling_party = communism elections_allowed = yes election_frequency = 60 } }
	if = { limit = { has_government = social_democracy } set_politics = { ruling_party = social_democracy elections_allowed = yes election_frequency = 60 } }
	if = { limit = { has_government = social_liberalism } set_politics = { ruling_party = social_liberalism elections_allowed = yes election_frequency = 60 } }
	if = { limit = { has_government = market_liberalism } set_politics = { ruling_party = market_liberalism elections_allowed = yes election_frequency = 60 } }
	if = { limit = { has_government = social_conservatism } set_politics = { ruling_party = social_conservatism elections_allowed = yes election_frequency = 60 } }
	if = { limit = { has_government = authoritarism } set_politics = { ruling_party = authoritarism elections_allowed = yes election_frequency = 60 } }
	if = { limit = { has_government = despotism } set_politics = { ruling_party = despotism elections_allowed = yes election_frequency = 60 } }
	if = { limit = { has_government = fascism } set_politics = { ruling_party = fascism elections_allowed = yes election_frequency = 60 } }
	if = { limit = { has_government = national_syndicalism } set_politics = { ruling_party = national_syndicalism elections_allowed = yes election_frequency = 60 } }
	}
	
	elections_allowed_no = {
	if = { limit = { has_government = radical_socialism } set_politics = { ruling_party = radical_socialism elections_allowed = no } }
	if = { limit = { has_government = communism } set_politics = { ruling_party = communism elections_allowed = no } }
	if = { limit = { has_government = social_democracy } set_politics = { ruling_party = social_democracy elections_allowed = no } }
	if = { limit = { has_government = social_liberalism } set_politics = { ruling_party = social_liberalism elections_allowed = no } }
	if = { limit = { has_government = market_liberalism } set_politics = { ruling_party = market_liberalism elections_allowed = no } }
	if = { limit = { has_government = social_conservatism } set_politics = { ruling_party = social_conservatism elections_allowed = no } }
	if = { limit = { has_government = authoritarism } set_politics = { ruling_party = authoritarism elections_allowed = no } }
	if = { limit = { has_government = despotism } set_politics = { ruling_party = despotism elections_allowed = no } }
	if = { limit = { has_government = fascism } set_politics = { ruling_party = fascism elections_allowed = no } }
	if = { limit = { has_government = national_syndicalism } set_politics = { ruling_party = national_syndicalism elections_allowed = no } }
	}

	rise_of_red_alert_level_when_one_country_turns_to_communism = {
		set_variable = { states_divider = 0 }
		set_variable = { factories_divider = 0 }
		every_country = {
			add_to_variable = {
				var = ROOT.states_divider
				value = num_owned_controlled_states
			}
			add_to_variable = {
				var = ROOT.factories_divider
				value = num_of_factories
			}
		}
		set_variable = { change_of_red_alert_level = 1 }
		multiply_variable = { change_of_red_alert_level = num_owned_controlled_states }
		multiply_variable = { change_of_red_alert_level = num_of_factories }
		divide_variable = { change_of_red_alert_level = states_divider }
		divide_variable = { change_of_red_alert_level = factories_divider }
		multiply_variable = { change_of_red_alert_level = 250 }
		
		add_to_variable = {
			var = global.red_alert
			value = change_of_red_alert_level
		}
		clear_variable = states_divider
		clear_variable = factories_divider
		clear_variable = change_of_red_alert_level
	}
	fall_of_red_alert_level_when_one_country_turns_to_communism = {
		set_variable = { states_divider = 0 }
		set_variable = { factories_divider = 0 }
		every_country = {
			add_to_variable = {
				var = ROOT.states_divider
				value = num_owned_controlled_states
			}
			add_to_variable = {
				var = ROOT.factories_divider
				value = num_of_factories
			}
		}
		set_variable = { change_of_red_alert_level = 1 }
		multiply_variable = { change_of_red_alert_level = num_owned_controlled_states }
		multiply_variable = { change_of_red_alert_level = num_of_factories }
		divide_variable = { change_of_red_alert_level = states_divider }
		divide_variable = { change_of_red_alert_level = factories_divider }
		multiply_variable = { change_of_red_alert_level = -250 }
		
		add_to_variable = {
			var = global.red_alert
			value = change_of_red_alert_level
		}
		clear_variable = states_divider
		clear_variable = factories_divider
		clear_variable = change_of_red_alert_level
	}